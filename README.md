# æ±—è’¸ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ

ä¸€é”®éƒ¨ç½²çš„å…¨æ ˆä¼šå‘˜ç®¡ç†ç³»ç»Ÿï¼Œä¸“ä¸ºæ±—è’¸å…»ç”Ÿé¦†ç­‰æœåŠ¡è¡Œä¸šè®¾è®¡ã€‚å‰åç«¯ä¸€ä½“åŒ–ï¼Œæç®€éƒ¨ç½²ã€‚

## âœ¨ ç‰¹ç‚¹

- ğŸš€ **ä¸€é”®å¯åŠ¨** - å•ä¸ªå‘½ä»¤å³å¯è¿è¡Œ
- ğŸ“¦ **å‰åç«¯ä¸€ä½“** - æ— éœ€åˆ†åˆ«éƒ¨ç½²
- ğŸ” **è‡ªåŠ¨åˆå§‹åŒ–** - è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œç®¡ç†å‘˜è´¦æˆ·
- ğŸ³ **Dockeræ”¯æŒ** - æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²
- ğŸ’¾ **MySQLå­˜å‚¨** - æ•°æ®å®‰å…¨å¯é 

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- ä¼šå‘˜ç®¡ç†ï¼ˆCRUDã€æ¬¡å¡ã€æ‰¹é‡æ“ä½œï¼‰
- å……å€¼ç®¡ç†ï¼ˆå¤šç§æ”¯ä»˜æ–¹å¼ã€è®°å½•å¯¼å‡ºï¼‰
- æ¶ˆè´¹è®°å½•ï¼ˆæ¬¡å¡ä½¿ç”¨ç»Ÿè®¡ã€ç­›é€‰å¯¼å‡ºï¼‰
- æ¬¡å¡ç®¡ç†ï¼ˆç±»å‹é…ç½®ã€æœ‰æ•ˆæœŸç®¡ç†ï¼‰
- é¢„çº¦ç®¡ç†
- æ•°æ®åˆ†æï¼ˆä»ªè¡¨ç›˜ã€å›¾è¡¨ã€è¥æ”¶è¶‹åŠ¿ï¼‰
- è´¦å·ç®¡ç†ï¼ˆç”¨æˆ·ã€è§’è‰²ã€æƒé™ï¼‰
- æ“ä½œæ—¥å¿—ï¼ˆå®¡è®¡è¿½è¸ªï¼‰
- Excel å¯¼å…¥å¯¼å‡º

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥ï¼‰

### å‰ç½®æ¡ä»¶

- Node.js 18+
- MySQL 8.0ï¼ˆéœ€æå‰å®‰è£…ï¼‰
- pnpm 8+

### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env  # å¡«å…¥ MySQL è´¦å·å¯†ç 

# 2. ä¸€é”®å¯åŠ¨
./start.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
pnpm install
pnpm run build
pnpm start
```

### æ–¹å¼äºŒï¼šDockerï¼ˆæ¨èï¼‰

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env  # å¡«å…¥ MySQL è´¦å·å¯†ç 

# 2. å¯åŠ¨å®¹å™¨
docker compose up -d --build
```

### è®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:4000**

**é»˜è®¤è´¦å·**ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼**

## ğŸ“ ç¯å¢ƒå˜é‡é…ç½®

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®ï¼ˆå¿…å¡«ï¼‰
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=sauna_membership

# æœåŠ¡ç«¯å£
PORT=4000

# JWT å¯†é’¥ï¼ˆå¿…æ”¹ï¼‰
JWT_SECRET=your_random_secret_key_at_least_32_characters
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ src/              # React å‰ç«¯æºç 
â”œâ”€â”€ public/           # é™æ€èµ„æº
â”œâ”€â”€ dist/             # æ„å»ºäº§ç‰©
â”œâ”€â”€ server.js         # ç»Ÿä¸€æœåŠ¡å™¨ï¼ˆAPI + é™æ€æ–‡ä»¶ï¼‰
â”œâ”€â”€ start.sh          # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ Dockerfile        # Docker é•œåƒ
â”œâ”€â”€ docker-compose.yml # Docker ç¼–æ’
â”œâ”€â”€ package.json      # ä¾èµ–é…ç½®
â””â”€â”€ .env.example      # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

## ğŸ› ï¸ å¼€å‘æ¨¡å¼

```bash
# å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
pnpm run dev

# åç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
pnpm run dev:server
```

è®¿é—® http://localhost:3000 ï¼ˆå‰ç«¯ï¼‰ + http://localhost:4000 ï¼ˆåç«¯ï¼‰

## ğŸ³ Docker éƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
docker build -t sauna-management .
```

### è¿è¡Œå®¹å™¨

```bash
docker run -d \
  --name sauna-app \
  -p 4000:4000 \
  --env-file .env \
  sauna-management
```

### ä½¿ç”¨ Docker Compose

```bash
# å¯åŠ¨
docker compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢
docker compose down
```

## ğŸ“Š æ•°æ®ç®¡ç†

### å¤‡ä»½æ•°æ®

åœ¨ç³»ç»Ÿ"è®¾ç½®"é¡µé¢ç‚¹å‡»"åˆ›å»ºå¤‡ä»½"ï¼Œä¼šå¯¼å‡ºæ‰€æœ‰æ•°æ®åˆ° Excel æ–‡ä»¶ã€‚

æˆ–ç›´æ¥å¤‡ä»½ MySQL æ•°æ®åº“ï¼š

```bash
mysqldump -u root -p sauna_membership > backup.sql
```

### æ¢å¤æ•°æ®

```bash
mysql -u root -p sauna_membership < backup.sql
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: å¯åŠ¨å¤±è´¥ï¼Œæç¤ºæ•°æ®åº“è¿æ¥é”™è¯¯ï¼Ÿ

**A**: 
1. ç¡®è®¤ MySQL å·²å¯åŠ¨ï¼š`systemctl status mysql`
2. æ£€æŸ¥ `.env` ä¸­çš„æ•°æ®åº“é…ç½®
3. æµ‹è¯•è¿æ¥ï¼š`mysql -u root -p`

### Q: å¯åŠ¨æ—¶æç¤º "ENOENT: no such file or directory, stat dist/static/index.html"ï¼Ÿ

**A**: è¿™æ˜¯å› ä¸ºå‰ç«¯æœªæ„å»ºæˆ–æ„å»ºå¤±è´¥ã€‚è§£å†³æ–¹æ³•ï¼š
1. æ‰‹åŠ¨è¿è¡Œæ„å»ºï¼š`pnpm run build`
2. ç¡®è®¤ `dist/static/index.html` æ–‡ä»¶å­˜åœ¨
3. ä½¿ç”¨ `./start.sh` è„šæœ¬å¯åŠ¨ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ„å»º

**æ³¨æ„**ï¼šå¦‚æœéƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ï¼Œå¿…é¡»ç¡®ä¿ï¼š
- è¿è¡Œè¿‡ `pnpm run build` 
- `dist/` ç›®å½•å·²å¤åˆ¶åˆ°æœåŠ¡å™¨
- æˆ–ä½¿ç”¨ `./start.sh` è‡ªåŠ¨æ„å»º

### Q: ç«¯å£ 4000 è¢«å ç”¨ï¼Ÿ

**A**: ä¿®æ”¹ `.env` ä¸­çš„ `PORT=4000` ä¸ºå…¶ä»–ç«¯å£ï¼Œå¦‚ `PORT=5000`

### Q: å¿˜è®°ç®¡ç†å‘˜å¯†ç ï¼Ÿ

**A**: é‡æ–°åˆå§‹åŒ–æ•°æ®åº“å³å¯é‡ç½®ä¸ºé»˜è®¤å¯†ç  `123456`

### Q: Docker å®¹å™¨æ— æ³•è¿æ¥å®¿ä¸»æœº MySQLï¼Ÿ

**A**: 
- Linux: ä½¿ç”¨ `DB_HOST=172.17.0.1`ï¼ˆDocker ç½‘æ¡¥åœ°å€ï¼‰
- Mac/Windows: ä½¿ç”¨ `DB_HOST=host.docker.internal`

## ğŸ” å®‰å…¨å»ºè®®

1. âœ… ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. âœ… è®¾ç½®å¼ºå£®çš„ JWT_SECRET
3. âœ… ä½¿ç”¨å¤æ‚çš„ MySQL å¯†ç 
4. âœ… ç”Ÿäº§ç¯å¢ƒå¯ç”¨ HTTPS
5. âœ… é™åˆ¶ MySQL ç«¯å£è®¿é—®
6. âœ… å®šæœŸå¤‡ä»½æ•°æ®

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- æ•°æ®åº“ç´¢å¼•å·²ä¼˜åŒ–
- å‰ç«¯èµ„æºå·²å‹ç¼©ï¼ˆGzipï¼‰
- ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± 
- Docker å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒä½“ç§¯

## ğŸ†• ç‰ˆæœ¬å†å²

- **v1.0.0** (2025-01-05)
  - å‰åç«¯ä¸€ä½“åŒ–æ¶æ„
  - è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“
  - è‡ªåŠ¨åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·
  - ç®€åŒ–éƒ¨ç½²æµç¨‹

## ğŸ“„ è®¸å¯è¯

é¡¹ç›®ç¼–å·: 7537996892644704512

---

## ğŸ™‹ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼š
1. æŸ¥çœ‹ä¸Šæ–¹å¸¸è§é—®é¢˜
2. æ£€æŸ¥æ—¥å¿—ï¼š`docker compose logs` æˆ–æŸ¥çœ‹ç»ˆç«¯è¾“å‡º
3. æäº¤ Issue

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
